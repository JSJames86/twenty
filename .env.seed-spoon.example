# ===================================
# Twenty CRM - Seed & Spoon Configuration
# ===================================
# This environment file configures Twenty CRM for nonprofit operations
# Copy this file to .env and update the values

# ===================================
# ENVIRONMENT
# ===================================
NODE_ENV=production

# ===================================
# DATABASE (Supabase Recommended)
# ===================================
# PostgreSQL connection string
# For Supabase: postgresql://postgres:[PASSWORD]@db.[PROJECT].supabase.co:5432/postgres
DATABASE_URL=postgresql://postgres:your-password@db.your-project.supabase.co:5432/postgres
ENABLE_DB_MIGRATIONS=true

# ===================================
# REDIS (Upstash Recommended for Free Tier)
# ===================================
# Redis connection for caching and sessions
REDIS_URL=redis://default:your-password@your-redis-host:6379

# ===================================
# APPLICATION URLS
# ===================================
# Frontend URL (your admin dashboard)
FRONT_BASE_URL=https://admin.seedandspoon.org

# Backend server URL
SERVER_URL=https://api-admin.seedandspoon.org

# Port for local development
PORT=3001

# ===================================
# SEED & SPOON BACKEND API
# ===================================
# Connect to your Seed & Spoon backend service
SEED_SPOON_API_URL=https://api.seedandspoon.org
ADMIN_SERVICE_TOKEN=your-admin-service-token-here

# ===================================
# AUTHENTICATION SECRETS
# ===================================
# Generate secure random strings for each secret
# Use: openssl rand -hex 32
ACCESS_TOKEN_SECRET=your-access-token-secret-change-this
LOGIN_TOKEN_SECRET=your-login-token-secret-change-this
REFRESH_TOKEN_SECRET=your-refresh-token-secret-change-this
FILE_TOKEN_SECRET=your-file-token-secret-change-this

# Token expiration (in seconds)
ACCESS_TOKEN_EXPIRES_IN=3600
REFRESH_TOKEN_EXPIRES_IN=2592000
LOGIN_TOKEN_EXPIRES_IN=900

# ===================================
# SECURITY
# ===================================
# Disable prefilled sign-in for production
SIGN_IN_PREFILLED=false

# OAuth providers (disable if not using)
AUTH_GOOGLE_ENABLED=false
AUTH_MICROSOFT_ENABLED=false
AUTH_SSO_ENABLED=false

# Password requirements
AUTH_PASSWORD_ENABLED=true
AUTH_PASSWORD_MIN_LENGTH=8

# ===================================
# STORAGE (Supabase Storage or S3)
# ===================================
STORAGE_TYPE=s3
STORAGE_S3_REGION=us-east-1
STORAGE_S3_NAME=seed-spoon-files
STORAGE_S3_ENDPOINT=https://your-project.supabase.co/storage/v1
STORAGE_S3_ACCESS_KEY_ID=your-access-key
STORAGE_S3_SECRET_ACCESS_KEY=your-secret-key

# ===================================
# EMAIL CONFIGURATION
# ===================================
EMAIL_FROM_ADDRESS=noreply@seedandspoon.org
EMAIL_FROM_NAME=Seed & Spoon Admin
EMAIL_DRIVER=smtp

# SMTP settings (if using SMTP)
EMAIL_SMTP_HOST=smtp.example.com
EMAIL_SMTP_PORT=587
EMAIL_SMTP_USER=your-smtp-user
EMAIL_SMTP_PASSWORD=your-smtp-password

# ===================================
# TELEMETRY & ANALYTICS
# ===================================
# Disable for privacy
TELEMETRY_ENABLED=false
TELEMETRY_ANONYMIZATION_ENABLED=true

# ===================================
# FEATURE FLAGS (Seed & Spoon Specific)
# ===================================
# Enable nonprofit-specific features
FEATURE_GRANTS_PIPELINE=true
FEATURE_VOLUNTEER_MANAGEMENT=true
FEATURE_PARTNER_TRACKING=true
FEATURE_IMPACT_METRICS=true

# ===================================
# WORKSPACE CONFIGURATION
# ===================================
# Default workspace settings
IS_BILLING_ENABLED=false
IS_MULTIWORKSPACE_ENABLED=false

# ===================================
# RATE LIMITING
# ===================================
API_RATE_LIMITING_TTL=60
API_RATE_LIMITING_LIMIT=1000

# ===================================
# LOGGING
# ===================================
LOG_LEVEL=info
LOG_DRIVER=console

# ===================================
# OPTIONAL INTEGRATIONS
# ===================================
# Calendar integration
CALENDAR_PROVIDER_GOOGLE_ENABLED=false
CALENDAR_PROVIDER_MICROSOFT_ENABLED=false

# Messaging integration
MESSAGING_PROVIDER_GMAIL_ENABLED=false
MESSAGING_PROVIDER_MICROSOFT_ENABLED=false
